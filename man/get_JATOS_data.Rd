% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/jatos-helper.R
\name{get_JATOS_data}
\alias{get_JATOS_data}
\title{Download data from JATOS}
\usage{
get_JATOS_data(
  token,
  url = "https://coglab.xyz/jatos/api/v1/results",
  studyId,
  batchId = NULL,
  dataPath = NULL,
  attachments = FALSE,
  method = "all"
)
}
\arguments{
\item{token}{A character string containing the API token for authentication. You can create a new token
on JATOS. See: https://www.jatos.org/JATOS-API.html#personal-access-tokens}

\item{url}{A character string specifying the server address. The default value is the address of the lab server.}

\item{studyId}{A character string or a numeric containing the unique code of the study, available on JATOS.}

\item{batchId}{A character vector or numeric vector containing one or more unique codes for batch sessions in the study.
If it is null, the batchId will be retrieved from the metadata.}

\item{dataPath}{A character string specifying the path used to save data. If NULL, data will be saved
in a "JATOS_DATA" folder in the working directory.}

\item{attachments}{A logical value indicating whether to download attachments. Default is FALSE.}

\item{method}{A character string specifying the download method. Options are:
- "all": Download all data for the specified batch IDs (default)
- "missing": Only download data that is missing or has changed based on file size comparison}
}
\value{
A data frame containing metadata about the downloaded JATOS results.
}
\description{
This function downloads result data from a JATOS (Just Another Tool for Online Studies) server
using an API token and specified study ID and batch ID. It then unzips and extracts the relevant data,
including metadata, file names, and file contents. The function can download all data for specified
batch IDs or only download missing data based on comparison with local files.
}
\examples{
\dontrun{
# Download all data for a specific study and batch
data <- get_JATOS_data(
  token = "your_api_token",
  studyId = "your_study_id",
  batchId = c("batch_id_1", "batch_id_2"),
  dataPath = "./data/"
)

# Download only missing data
missing_data <- get_JATOS_data(
  token = "your_api_token",
  studyId = "your_study_id",
  batchId = c("batch_id_1", "batch_id_2"),
  method = "missing"
)
}

}
